---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Image } from 'astro:assets';

// Use the CollectionEntry type for stronger type safety
type Props = {
  entry: CollectionEntry<'parts'>;
};

const { entry } = Astro.props;
// Destructure the data from the entry prop
const {
  data: { title, description, partNumber, heroImage },
} = entry;
---

<html lang="en">
<head>
  <BaseHead {title} {description} />
  <style>
    main {
      width: calc(100% - 2em);
      max-width: 100%;
      margin: 0;
    }
    .prose {
      width: 720px;
      max-width: calc(100% - 2em);
      margin: auto;
      padding: 1em;
      color: #f1f1f1;
    }
    .title {
      margin-bottom: 1em;
      padding: 1em 0;
      text-align: center;
      line-height: 1;
    }
    .title h1 {
      margin: 0 0 0.5em 0;
    }
    .part-number {
      font-style: italic;
      color: #a0a0a0;
    }
  </style>
</head>

<body>
<Header />
<main>
  <article>
    <div class="hero-image pt-7">
      {heroImage && <Image width={720} height={360} src={heroImage} alt="" />}
    </div>
    <div class="prose">
      <div class="title">
        <h1>{title}</h1>
        <div class="part-number">Part #: {partNumber}</div>
        <p>{description} </p>
      </div>
      <hr />
      <slot />
    </div>
  </article>
</main>
<Footer />
</body>
</html>