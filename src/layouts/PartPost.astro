---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Image } from 'astro:assets'; // Import the Astro Image component
import type { ImageMetadata } from 'astro'; // Import the ImageMetadata type

// The Props interface is now flattened
export interface Props {
  title: string;
  description: string;
  partNumber: string;
  heroImage?: ImageMetadata; // Correct type for heroImage
}

// Destructuring is now directly from Astro.props
const { title, description, partNumber, heroImage } = Astro.props;
---

<html lang="en">
<head>
  <BaseHead title={title} description={description} />
  <style>
    main {
      width: calc(100% - 2em);
      max-width: 100%;
      margin: 0;
    }
    .prose {
      width: 720px;
      max-width: calc(100% - 2em);
      margin: auto;
      padding: 1em;
      color: #f1f1f1;
    }
    .title {
      margin-bottom: 1em;
      padding: 1em 0;
      text-align: center;
      line-height: 1;
    }
    .title h1 {
      margin: 0 0 0.5em 0;
    }
    .part-number {
      font-style: italic;
      color: #a0a0a0;
    }
  </style>
</head>

<body>
<Header />
<main>
  <article>
    {
        heroImage && (
            <img
                width={1020}
                height={510}
                src={heroImage}
                alt=""
                class="w-full h-auto mb-8"
            />
        )
    }
    <div class="prose">
      <div class="title">
        <h1>{title}</h1>
        <div class="part-number">Part #: {partNumber}</div>
        <p>{description}</p>
      </div>
      <hr />
      <slot />
    </div>
  </article>
</main>
<Footer />
</body>
</html>